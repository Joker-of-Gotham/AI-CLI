\chapter{mcp.\+ts }
\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts}{}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts}\index{mcp.ts@{mcp.ts}}
\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md254}%
\Hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md254}%


MCP（\+Model Context Protocol）命令模块，用于管理 MCP 服务器。\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md255}{}\doxysection{\texorpdfstring{功能概述}{功能概述}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md255}

\begin{DoxyEnumerate}
\item 注册 MCP 子命令
\item 提供 MCP 服务器管理功能
\item 集成到主 CLI 命令系统
\end{DoxyEnumerate}\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md256}{}\doxysection{\texorpdfstring{主要导出}{主要导出}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md256}
\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md257}{}\doxysubsection{\texorpdfstring{mcp\+Command\+: Command\+Module}{mcp\+Command\+: Command\+Module}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md257}
Yargs 命令模块，定义 MCP 命令：
\begin{DoxyItemize}
\item command\+: \textquotesingle{}mcp\textquotesingle{}
\item describe\+: \textquotesingle{}Manage MCP servers\textquotesingle{}
\item builder\+: 配置子命令
\begin{DoxyItemize}
\item add\+: 添加 MCP 服务器
\item remove\+: 移除 MCP 服务器
\item list\+: 列出 MCP 服务器
\end{DoxyItemize}
\item handler\+: 命令处理器
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md258}{}\doxysection{\texorpdfstring{子命令}{子命令}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md258}
\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md259}{}\doxysubsection{\texorpdfstring{add\+Command}{add\+Command}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md259}
添加新的 MCP 服务器配置：
\begin{DoxyItemize}
\item 支持 stdio、sse、http 传输类型
\item 可设置环境变量和 HTTP 头
\item 支持超时和信任设置
\item 可设置描述和工具包含/排除列表
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md260}{}\doxysubsection{\texorpdfstring{remove\+Command}{remove\+Command}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md260}
移除现有的 MCP 服务器配置：
\begin{DoxyItemize}
\item 按名称删除服务器配置
\item 支持用户和项目作用域
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md261}{}\doxysubsection{\texorpdfstring{list\+Command}{list\+Command}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md261}
列出所有配置的 MCP 服务器：
\begin{DoxyItemize}
\item 显示服务器状态（连接/断开）
\item 显示服务器类型和配置信息
\item 支持颜色化输出
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md262}{}\doxysection{\texorpdfstring{使用示例}{使用示例}}\label{md_packages_2cli_2src_2commands_2mcp_2mcp_8ts_autotoc_md262}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ 添加新的\ MCP\ 服务器}
\DoxyCodeLine{gemini\ mcp\ add\ my-\/server\ python\ /path/to/server.py}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 列出所有\ MCP\ 服务器}
\DoxyCodeLine{gemini\ mcp\ list}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 移除\ MCP\ 服务器}
\DoxyCodeLine{gemini\ mcp\ remove\ my-\/server}

\end{DoxyCode}
 