\chapter{Logger 类 }
\hypertarget{md_packages_2core_2src_2core_2logger}{}\label{md_packages_2core_2src_2core_2logger}\index{Logger 类@{Logger 类}}
\label{md_packages_2core_2src_2core_2logger_autotoc_md599}%
\Hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md599}%


{\ttfamily Logger} 类负责记录用户消息和管理聊天会话的日志功能。\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md600}{}\doxysection{\texorpdfstring{主要功能}{主要功能}}\label{md_packages_2core_2src_2core_2logger_autotoc_md600}

\begin{DoxyEnumerate}
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}消息日志记录\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：记录用户输入的消息
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}历史消息检索\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：获取之前的用户消息
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}检查点管理\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：保存和加载聊天会话的检查点
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}文件名编码\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：安全地编码标签名称用于文件名
\end{DoxyEnumerate}\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md601}{}\doxysection{\texorpdfstring{核心方法}{核心方法}}\label{md_packages_2core_2src_2core_2logger_autotoc_md601}
\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md602}{}\doxysubsection{\texorpdfstring{日志记录}{日志记录}}\label{md_packages_2core_2src_2core_2logger_autotoc_md602}

\begin{DoxyItemize}
\item {\ttfamily initialize()} -\/ 初始化日志记录器
\item {\ttfamily log\+Message()} -\/ 记录消息
\item {\ttfamily get\+Previous\+User\+Messages()} -\/ 获取之前的用户消息
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md603}{}\doxysubsection{\texorpdfstring{检查点管理}{检查点管理}}\label{md_packages_2core_2src_2core_2logger_autotoc_md603}

\begin{DoxyItemize}
\item {\ttfamily save\+Checkpoint()} -\/ 保存聊天会话检查点
\item {\ttfamily load\+Checkpoint()} -\/ 加载聊天会话检查点
\item {\ttfamily delete\+Checkpoint()} -\/ 删除检查点
\item {\ttfamily checkpoint\+Exists()} -\/ 检查检查点是否存在
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md604}{}\doxysection{\texorpdfstring{Message\+Sender\+Type 枚举}{Message\+Sender\+Type 枚举}}\label{md_packages_2core_2src_2core_2logger_autotoc_md604}
定义消息发送者类型：
\begin{DoxyItemize}
\item {\ttfamily USER} -\/ 用户发送的消息
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md605}{}\doxysection{\texorpdfstring{Log\+Entry 接口}{Log\+Entry 接口}}\label{md_packages_2core_2src_2core_2logger_autotoc_md605}
定义日志条目的结构，包含：
\begin{DoxyItemize}
\item {\ttfamily session\+Id} -\/ 会话\+ID
\item {\ttfamily message\+Id} -\/ 消息\+ID
\item {\ttfamily timestamp} -\/ 时间戳
\item {\ttfamily type} -\/ 消息类型
\item {\ttfamily message} -\/ 消息内容
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md606}{}\doxysection{\texorpdfstring{辅助函数}{辅助函数}}\label{md_packages_2core_2src_2core_2logger_autotoc_md606}
\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md607}{}\doxysubsection{\texorpdfstring{encode\+Tag\+Name()}{encode\+Tag\+Name()}}\label{md_packages_2core_2src_2core_2logger_autotoc_md607}
将字符串编码为安全的文件名，替换特殊字符为\+URL编码格式。\hypertarget{md_packages_2core_2src_2core_2logger_autotoc_md608}{}\doxysubsection{\texorpdfstring{decode\+Tag\+Name()}{decode\+Tag\+Name()}}\label{md_packages_2core_2src_2core_2logger_autotoc_md608}
解码之前编码的文件名字符串。 