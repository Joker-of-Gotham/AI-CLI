\chapter{提示词注册表 (Prompt\+Registry) }
\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry}{}\label{md_packages_2core_2src_2prompts_2prompt-registry}\index{提示词注册表 (PromptRegistry)@{提示词注册表 (PromptRegistry)}}
\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md693}%
\Hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md693}%


提示词注册表负责管理所有注册的提示词定义。\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md694}{}\doxysection{\texorpdfstring{主要功能}{主要功能}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md694}

\begin{DoxyEnumerate}
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}提示词注册\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：注册和管理提示词定义
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}提示词发现\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：发现和检索提示词
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}服务器管理\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：按服务器管理提示词
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}命名冲突处理\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：处理同名提示词
\end{DoxyEnumerate}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md695}{}\doxysection{\texorpdfstring{核心方法}{核心方法}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md695}
\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md696}{}\doxysubsection{\texorpdfstring{register\+Prompt()}{register\+Prompt()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md696}
注册提示词定义：
\begin{DoxyItemize}
\item 检查是否已存在同名提示词
\item 处理命名冲突（添加服务器前缀）
\item 存储提示词定义
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md697}{}\doxysubsection{\texorpdfstring{get\+All\+Prompts()}{get\+All\+Prompts()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md697}
获取所有注册的提示词：
\begin{DoxyItemize}
\item 返回排序后的提示词列表
\item 按名称字母顺序排列
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md698}{}\doxysubsection{\texorpdfstring{get\+Prompt()}{get\+Prompt()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md698}
获取特定提示词定义：
\begin{DoxyItemize}
\item 根据名称查找提示词
\item 返回提示词定义或 undefined
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md699}{}\doxysubsection{\texorpdfstring{get\+Prompts\+By\+Server()}{get\+Prompts\+By\+Server()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md699}
获取特定服务器的提示词：
\begin{DoxyItemize}
\item 根据服务器名称过滤提示词
\item 返回排序后的提示词列表
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md700}{}\doxysubsection{\texorpdfstring{clear()}{clear()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md700}
清空所有提示词：
\begin{DoxyItemize}
\item 移除所有注册的提示词
\item 重置注册表状态
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md701}{}\doxysubsection{\texorpdfstring{remove\+Prompts\+By\+Server()}{remove\+Prompts\+By\+Server()}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md701}
移除特定服务器的提示词：
\begin{DoxyItemize}
\item 根据服务器名称移除提示词
\item 保持其他服务器的提示词
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md702}{}\doxysection{\texorpdfstring{数据结构}{数据结构}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md702}
\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md703}{}\doxysubsection{\texorpdfstring{提示词存储}{提示词存储}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md703}
使用 Map 存储提示词：
\begin{DoxyItemize}
\item 键：提示词名称
\item 值：提示词定义
\item 支持快速查找和更新
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md704}{}\doxysection{\texorpdfstring{命名冲突处理}{命名冲突处理}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md704}
当注册同名提示词时：
\begin{DoxyEnumerate}
\item 检测命名冲突
\item 重命名为 "{}服务器名\+\_\+提示词名"{} 格式
\item 发出警告信息
\item 继续注册过程
\end{DoxyEnumerate}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md705}{}\doxysection{\texorpdfstring{排序和检索}{排序和检索}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md705}
\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md706}{}\doxysubsection{\texorpdfstring{名称排序}{名称排序}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md706}
所有提示词列表按名称字母顺序排序：
\begin{DoxyItemize}
\item 提供一致的检索体验
\item 支持可预测的遍历顺序
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md707}{}\doxysubsection{\texorpdfstring{服务器分组}{服务器分组}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md707}
支持按服务器分组检索：
\begin{DoxyItemize}
\item 便于管理不同服务器的提示词
\item 支持服务器级别的操作
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md708}{}\doxysection{\texorpdfstring{使用场景}{使用场景}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md708}
\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md709}{}\doxysubsection{\texorpdfstring{MCP 集成}{MCP 集成}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md709}
与 MCP 服务器集成：
\begin{DoxyItemize}
\item 自动注册发现的提示词
\item 管理多个 MCP 服务器的提示词
\item 支持动态提示词更新
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md710}{}\doxysubsection{\texorpdfstring{提示词发现}{提示词发现}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md710}
支持提示词发现功能：
\begin{DoxyItemize}
\item 列出所有可用提示词
\item 按服务器筛选提示词
\item 提供提示词详细信息
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md711}{}\doxysubsection{\texorpdfstring{提示词执行}{提示词执行}}\label{md_packages_2core_2src_2prompts_2prompt-registry_autotoc_md711}
为提示词执行提供注册表：
\begin{DoxyItemize}
\item 查找提示词定义
\item 验证提示词存在性
\item 获取提示词元数据 
\end{DoxyItemize}