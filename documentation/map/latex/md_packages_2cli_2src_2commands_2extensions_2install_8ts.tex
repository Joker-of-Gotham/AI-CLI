\chapter{install.\+ts }
\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts}{}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts}\index{install.ts@{install.ts}}
\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md212}%
\Hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md212}%


扩展安装命令，用于安装新的 Gemini CLI 扩展。\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md213}{}\doxysection{\texorpdfstring{功能概述}{功能概述}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md213}

\begin{DoxyEnumerate}
\item 从 Git 仓库安装扩展
\item 从本地路径安装扩展
\item 支持 Git\+Hub 简短格式（org/repo）
\item 自动启用安装的扩展
\end{DoxyEnumerate}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md214}{}\doxysection{\texorpdfstring{主要函数}{主要函数}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md214}
\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md215}{}\doxysubsection{\texorpdfstring{handle\+Install(args\+: Install\+Args)}{handle\+Install(args\+: Install\+Args)}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md215}
处理扩展安装：
\begin{DoxyItemize}
\item 验证源参数（\+Git URL 或本地路径）
\item 解析 Git\+Hub 简短格式
\item 调用扩展安装函数
\item 提供安装成功反馈
\end{DoxyItemize}

参数：
\begin{DoxyItemize}
\item args.\+source\+: Git URL 或 "{}org/repo"{} 格式
\item args.\+path\+: 本地扩展路径
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md216}{}\doxysubsection{\texorpdfstring{install\+Command\+: Command\+Module}{install\+Command\+: Command\+Module}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md216}
Yargs 命令模块，定义 install 子命令：
\begin{DoxyItemize}
\item command\+: \textquotesingle{}install \mbox{[}source\mbox{]}\textquotesingle{}
\item describe\+: \textquotesingle{}Installs an extension from a git repository or a local path\textquotesingle{}
\item builder\+: 参数构建器
\begin{DoxyItemize}
\item source\+: Git URL 或 "{}org/repo"{}（位置参数）
\item path\+: 本地路径（选项参数）
\end{DoxyItemize}
\item handler\+: 命令处理器，调用 handle\+Install 函数
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md217}{}\doxysection{\texorpdfstring{支持的安装源}{支持的安装源}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md217}
\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md218}{}\doxysubsection{\texorpdfstring{Git 仓库}{Git 仓库}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md218}

\begin{DoxyItemize}
\item 完整的 Git URL：{\ttfamily \href{https://github.com/user/repo.git}{\texttt{https\+://github.\+com/user/repo.\+git}}}
\item Git\+Hub 简短格式：{\ttfamily user/repo}
\item SSH 格式：{\ttfamily git@github.\+com\+:user/repo.\+git}
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md219}{}\doxysubsection{\texorpdfstring{本地路径}{本地路径}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md219}

\begin{DoxyItemize}
\item 绝对路径：{\ttfamily /path/to/extension}
\item 相对路径：{\ttfamily ./my-\/extension}
\end{DoxyItemize}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md220}{}\doxysection{\texorpdfstring{安装流程}{安装流程}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md220}

\begin{DoxyEnumerate}
\item 验证安装源
\item 创建用户扩展目录（如果不存在）
\item 克隆 Git 仓库或复制本地文件
\item 验证扩展配置文件
\item 将扩展复制到用户扩展目录
\item 保存安装元数据
\item 启用扩展
\end{DoxyEnumerate}\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md221}{}\doxysection{\texorpdfstring{使用示例}{使用示例}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md221}

\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ 从\ GitHub\ 安装扩展}
\DoxyCodeLine{gemini\ extensions\ install\ user/repo}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 从完整\ Git\ URL\ 安装扩展}
\DoxyCodeLine{gemini\ extensions\ install\ https://github.com/user/repo.git}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 从本地路径安装扩展}
\DoxyCodeLine{gemini\ extensions\ install\ -\/-\/path\ ./my-\/extension}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ 从\ SSH\ URL\ 安装扩展}
\DoxyCodeLine{gemini\ extensions\ install\ git@github.com:user/repo.git}

\end{DoxyCode}
\hypertarget{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md222}{}\doxysection{\texorpdfstring{错误处理}{错误处理}}\label{md_packages_2cli_2src_2commands_2extensions_2install_8ts_autotoc_md222}

\begin{DoxyItemize}
\item 验证扩展配置文件（gemini-\/extension.json）
\item 处理 Git 克隆错误
\item 检查扩展是否已安装
\item 提供详细的错误信息 
\end{DoxyItemize}