\chapter{IDE 客户端 (Ide\+Client) }
\hypertarget{md_packages_2core_2src_2ide_2ide-client}{}\label{md_packages_2core_2src_2ide_2ide-client}\index{IDE 客户端 (IdeClient)@{IDE 客户端 (IdeClient)}}
\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md641}%
\Hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md641}%


IDE 客户端负责管理与 IDE 服务器的连接和交互。\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md642}{}\doxysection{\texorpdfstring{主要功能}{主要功能}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md642}

\begin{DoxyEnumerate}
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}连接管理\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：建立和维护与 IDE 的连接
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}差异处理\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：打开和关闭文件差异视图
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}状态跟踪\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：跟踪连接状态和 IDE 上下文
\item \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}进程检测\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}：检测运行中的 IDE 进程
\end{DoxyEnumerate}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md643}{}\doxysection{\texorpdfstring{核心组件}{核心组件}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md643}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md644}{}\doxysubsection{\texorpdfstring{IDEConnection\+State}{IDEConnection\+State}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md644}
连接状态接口：
\begin{DoxyItemize}
\item {\ttfamily status} -\/ 连接状态
\item {\ttfamily details} -\/ 详细信息
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md645}{}\doxysubsection{\texorpdfstring{IDEConnection\+Status 枚举}{IDEConnection\+Status 枚举}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md645}
连接状态枚举：
\begin{DoxyItemize}
\item {\ttfamily Connected} -\/ 已连接
\item {\ttfamily Disconnected} -\/ 已断开
\item {\ttfamily Connecting} -\/ 连接中
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md646}{}\doxysection{\texorpdfstring{核心方法}{核心方法}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md646}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md647}{}\doxysubsection{\texorpdfstring{get\+Instance()}{get\+Instance()}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md647}
获取 IDE 客户端单例实例：
\begin{DoxyItemize}
\item 异步初始化
\item 检测运行中的 IDE 进程
\item 识别 IDE 类型
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md648}{}\doxysubsection{\texorpdfstring{connect()}{connect()}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md648}
建立与 IDE 的连接：
\begin{DoxyEnumerate}
\item 验证工作区路径
\item 尝试 HTTP 连接
\item 尝试 Stdio 连接
\item 处理连接错误
\end{DoxyEnumerate}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md649}{}\doxysubsection{\texorpdfstring{open\+Diff()}{open\+Diff()}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md649}
打开文件差异视图：
\begin{DoxyItemize}
\item 显示建议的更改
\item 等待用户接受或拒绝
\item 返回用户决策结果
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md650}{}\doxysubsection{\texorpdfstring{close\+Diff()}{close\+Diff()}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md650}
关闭文件差异视图：
\begin{DoxyItemize}
\item 可选择是否发送通知
\item 返回文件内容
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md651}{}\doxysubsection{\texorpdfstring{disconnect()}{disconnect()}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md651}
断开与 IDE 的连接：
\begin{DoxyItemize}
\item 关闭所有打开的差异视图
\item 清理资源
\item 更新连接状态
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md652}{}\doxysection{\texorpdfstring{事件处理}{事件处理}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md652}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md653}{}\doxysubsection{\texorpdfstring{状态变更监听}{状态变更监听}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md653}

\begin{DoxyItemize}
\item {\ttfamily add\+Status\+Change\+Listener()} -\/ 添加状态变更监听器
\item {\ttfamily remove\+Status\+Change\+Listener()} -\/ 移除状态变更监听器
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md654}{}\doxysubsection{\texorpdfstring{信任变更监听}{信任变更监听}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md654}

\begin{DoxyItemize}
\item {\ttfamily add\+Trust\+Change\+Listener()} -\/ 添加信任变更监听器
\item {\ttfamily remove\+Trust\+Change\+Listener()} -\/ 移除信任变更监听器
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md655}{}\doxysection{\texorpdfstring{辅助功能}{辅助功能}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md655}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md656}{}\doxysubsection{\texorpdfstring{工作区验证}{工作区验证}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md656}
{\ttfamily validate\+Workspace\+Path()} 验证工作区路径：
\begin{DoxyItemize}
\item 检查 IDE 工作区路径是否存在
\item 验证当前目录是否在工作区内
\item 提供详细的错误信息
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md657}{}\doxysubsection{\texorpdfstring{连接配置}{连接配置}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md657}
支持多种连接配置方式：
\begin{DoxyItemize}
\item 环境变量配置
\item 配置文件
\item HTTP 连接
\item Stdio 连接
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md658}{}\doxysubsection{\texorpdfstring{进程检测}{进程检测}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md658}
{\ttfamily get\+Ide\+Process\+Info()} 检测运行中的 IDE 进程：
\begin{DoxyItemize}
\item 支持 VS Code 及其衍生版本
\item 获取进程 PID 和命令行
\item 识别 IDE 类型
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md659}{}\doxysection{\texorpdfstring{数据结构}{数据结构}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md659}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md660}{}\doxysubsection{\texorpdfstring{Diff\+Update\+Result}{Diff\+Update\+Result}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md660}
差异更新结果：
\begin{DoxyItemize}
\item {\ttfamily status} -\/ 状态（accepted/rejected）
\item {\ttfamily content} -\/ 文件内容
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md661}{}\doxysubsection{\texorpdfstring{Stdio\+Config}{Stdio\+Config}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md661}
Stdio 连接配置：
\begin{DoxyItemize}
\item {\ttfamily command} -\/ 命令路径
\item {\ttfamily args} -\/ 命令参数
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md662}{}\doxysection{\texorpdfstring{错误处理}{错误处理}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md662}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md663}{}\doxysubsection{\texorpdfstring{连接错误}{连接错误}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md663}

\begin{DoxyItemize}
\item 提供详细的连接失败信息
\item 建议解决方案
\item 支持重新连接
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md664}{}\doxysubsection{\texorpdfstring{差异处理错误}{差异处理错误}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md664}

\begin{DoxyItemize}
\item 处理差异视图打开失败
\item 优雅处理用户取消操作
\item 提供备用交互方式
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md665}{}\doxysection{\texorpdfstring{跨平台支持}{跨平台支持}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md665}
\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md666}{}\doxysubsection{\texorpdfstring{网络配置}{网络配置}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md666}

\begin{DoxyItemize}
\item 自动检测容器环境
\item 使用适当的主机地址
\item 处理代理设置
\end{DoxyItemize}\hypertarget{md_packages_2core_2src_2ide_2ide-client_autotoc_md667}{}\doxysubsection{\texorpdfstring{进程管理}{进程管理}}\label{md_packages_2core_2src_2ide_2ide-client_autotoc_md667}

\begin{DoxyItemize}
\item 跨平台进程检测
\item 支持不同 IDE 类型
\item 处理进程生命周期 
\end{DoxyItemize}